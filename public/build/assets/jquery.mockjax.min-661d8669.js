import{c as v}from"./_commonjsHelpers-de833af9.js";var ee={exports:{}};(function(z,te){(function(o,T){z.exports=T})(v,function(o,T){var A=o.ajax,d=[],E=[],F=[],C=/=\?(&|$)/,Q=new Date().getTime(),q=500;function G(e,t){p.debug(e,["Checking mock data against request data",e,t]);var n=!0;if(o.isFunction(e))return!!e(t);if(typeof t=="string"){if(o.isFunction(e.test))return e.test(t);if(typeof e!="object")return e===t;t=function(r){var a,s,c,i,u={},l=String(r).split(/&/);for(a=0,s=l.length;a<s;++a){c=l[a];try{c=(c=decodeURIComponent(c.replace(/\+/g," "))).split(/=/)}catch{continue}u[c[0]]?(u[c[0]].splice||(i=u[c[0]],u[c[0]]=[],u[c[0]].push(i)),u[c[0]].push(c[1])):u[c[0]]=c[1]}return p.debug(null,["Getting query params from string",r,u]),u}(t)}return o.each(e,function(r){if(t[r]===void 0)return n=!1;n=typeof t[r]=="object"&&t[r]!==null?(n=n&&o.isArray(t[r])?o.isArray(e[r])&&t[r].length===e[r].length:n)&&G(e[r],t[r]):e[r]&&o.isFunction(e[r].test)?n&&e[r].test(t[r]):n&&e[r]===t[r]}),n}function H(e,t){return e[t]===o.mockjaxSettings[t]}function X(e){return typeof e=="number"&&0<=e}function P(e){if(o.isArray(e)&&e.length===2){var t=e[0],n=e[1];if(X(t)&&X(n))return Math.floor(Math.random()*(n-t))+t}else if(X(e))return e;return q}function V(e,t,n){p.debug(e,["Sending fake XHR request",e,t,n]),r=this;var r,a=function(){return(function(){this.status=e.status,this.statusText=e.statusText,this.readyState=1;function s(){var c;this.readyState=4,t.dataType==="json"&&typeof e.responseText=="object"?this.responseText=JSON.stringify(e.responseText):t.dataType==="xml"?typeof e.responseXML=="string"?(this.responseXML=function(i){T.DOMParser===void 0&&T.ActiveXObject&&(T.DOMParser=function(){},DOMParser.prototype.parseFromString=function(l){var x=new ActiveXObject("Microsoft.XMLDOM");return x.async="false",x.loadXML(l),x});try{var u=new DOMParser().parseFromString(i,"text/xml");if(!o.isXMLDoc(u))throw new Error("Unable to parse XML");if(o("parsererror",u).length===1)throw new Error("Error: "+o(u).text());return u}catch(l){i=l.name===void 0?l:l.name+": "+l.message,o(document).trigger("xmlParseError",[i])}}(e.responseXML),this.responseText=e.responseXML):this.responseXML=e.responseXML:typeof e.responseText=="object"&&e.responseText!==null?(e.contentType="application/json",this.responseText=JSON.stringify(e.responseText)):this.responseText=e.responseText,o.isArray(e.status)?(c=Math.floor(Math.random()*e.status.length),this.status=e.status[c]):typeof e.status!="number"&&typeof e.status!="string"||(this.status=e.status),typeof e.statusText=="string"&&(this.statusText=e.statusText),c=this.onload||this.onreadystatechange,o.isFunction(c)?(e.isTimeout&&(this.status=-1),c.call(this,e.isTimeout?"timeout":void 0)):e.isTimeout&&(this.status=-1)}if(o.isFunction(e.response)){if(e.response.length===2)return void e.response(n,function(){s.call(r)});e.response(n)}s.call(r)}).apply(r)};e.proxy?(p.info(e,["Retrieving proxy file: "+e.proxy,e]),A({global:!1,url:e.proxy,type:e.proxyType,data:e.data,async:t.async,dataType:t.dataType==="script"?"text/plain":t.dataType,complete:function(s){e.responseXML=e.responseText=s.responseText,H(e,"status")&&(e.status=s.status),H(e,"statusText")&&(e.statusText=s.statusText),t.async===!1?a():this.responseTimer=setTimeout(a,P(e.responseTime))}})):t.async===!1?a():this.responseTimer=setTimeout(a,P(e.responseTime))}function Y(e,t,n){if((i=e).type.toUpperCase()==="GET"?C.test(i.url)||(i.url+=(/\?/.test(i.url)?"&":"?")+(i.jsonp||"callback")+"=?"):i.data&&C.test(i.data)||(i.data=(i.data?i.data+"&":"")+(i.jsonp||"callback")+"=?"),e.dataType="json",e.data&&C.test(e.data)||C.test(e.url)){var r=e,a=t,i=n,s=i&&i.context||r,c=typeof r.jsonpCallback=="string"&&r.jsonpCallback||"jsonp"+Q++,i=(r.data&&(r.data=(r.data+"").replace(C,"="+c+"$1")),r.url=r.url.replace(C,"="+c+"$1"),T[c]=T[c]||function(){_(r,s,a),I(r,s),T[c]=void 0;try{delete T[c]}catch{}},r.jsonpCallback=c,/^(\w+:)?\/\/([^\/?#]+)/.exec(e.url)),i=i&&(i[1]&&i[1]!==location.protocol||i[2]!==location.host);if(e.dataType="script",e.type.toUpperCase()==="GET"&&i)return function(u,l,x){p.debug(l,["Performing JSONP request",l,u,x]);var S=x&&x.context||u,y=o.Deferred?new o.Deferred:null;if(l.response&&o.isFunction(l.response))l.response(x);else if(typeof l.responseText=="object")o.globalEval("("+JSON.stringify(l.responseText)+")");else{if(l.proxy)return p.info(l,["Performing JSONP proxy request: "+l.proxy,l]),A({global:!1,url:l.proxy,type:l.proxyType,data:l.data,dataType:u.dataType==="script"?"text/plain":u.dataType,complete:function(O){o.globalEval("("+O.responseText+")"),J(u,l,S,y)}}),y;o.globalEval("("+(typeof l.responseText=="string"?'"'+l.responseText+'"':l.responseText)+")")}return J(u,l,S,y),y}(e,t,n)||!0}return null}function J(e,t,n,r){var a;setTimeout(function(){if(_(e,n,t),I(e,n),r){try{a=o.parseJSON(t.responseText)}catch{}r.resolveWith(n,[a||t.responseText]),p.log(t,["JSONP mock call complete",t,r])}},P(t.responseTime))}function _(e,t,n){e.success&&e.success.call(t,n.responseText||"","success",{}),e.global&&(e.context?o(e.context):o.event).trigger("ajaxSuccess",[{},e])}function I(e,t){e.complete&&e.complete.call(t,{statusText:"success",status:200},"success"),e.global&&(e.context?o(e.context):o.event).trigger("ajaxComplete",[{},e]),e.global&&!--o.active&&o.event.trigger("ajaxStop")}o.extend({ajax:function e(t,n){var r,a,s;p.debug(null,["Ajax call intercepted",t,n]),typeof t=="object"?(n=t,t=void 0):(n=n||{}).url=t||n.url,(a=o.ajaxSetup({},n)).type=a.method=a.method||a.type;for(var c=function(f,h){var m=n[f.toLowerCase()];return function(){o.isFunction(m)&&m.apply(this,[].slice.call(arguments)),h["onAfter"+f]()}},i=0;i<d.length;i++){var u=o.mockjaxSettings.matchInRegistrationOrder?i:d.length-1-i;if(u=d[u]){if(s=function(f,h){if(o.isFunction(f))return f(h);var m=f.namespace||f.namespace===void 0&&o.mockjaxSettings.namespace;if(o.isFunction(f.url.test)){if(m&&(m=m.replace(/(\/+)$/,""),k=f.url.source.replace(/^(\^+)/,"").replace(/^/,"^("+m+")?/?"),f.url=new RegExp(k)),!f.url.test(h.url))return null}else{var k=f.url,m=(k=m?[m.replace(/(\/+)$/,""),f.url.replace(/^(\/+)/,"")].join("/"):k).indexOf("*");if(k!==h.url&&m===-1||!new RegExp(k.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(h.url))return null}if(f.requestHeaders){if(h.headers===void 0)return null;var g=!1;if(o.each(f.requestHeaders,function(b,R){if(h.headers[b]!==R)return!(g=!0)}),g)return null}return!(!f.data||h.data&&G(f.data,h.data))||f&&f.type&&f.type.toLowerCase()!==h.type.toLowerCase()?null:f}(u,a)){if(o.mockjaxSettings.retainAjaxCalls&&E.push(a),p.info(s,["MOCK "+a.type.toUpperCase()+": "+a.url,o.ajaxSetup({},a)]),(s.status===301||s.status===302)&&(a.type.toUpperCase()==="GET"||a.type.toUpperCase()==="HEAD")&&s.headers.Location){p.debug("Doing mock redirect to",s.headers.Location,a.type);for(var l={},x=Object.keys(n),S=0;S<x.length;S++)l[x[S]]=n[x[S]];return l.url=s.headers.Location,l.headers={Referer:n.url},e(l)}if(!a.dataType||a.dataType.toUpperCase()!=="JSONP"||!(r=Y(a,s,n))){n.crossDomain=!1,s.cache=a.cache,s.timeout=a.timeout,s.global=a.global,s.isTimeout&&(1<s.responseTime?n.timeout=s.responseTime-1:(s.responseTime=2,n.timeout=1)),o.isFunction(s.onAfterSuccess)&&(n.success=c("Success",s)),o.isFunction(s.onAfterError)&&(n.error=c("Error",s)),o.isFunction(s.onAfterComplete)&&(n.complete=c("Complete",s)),K=D=B=W=$=L=w=O=y=void 0;var y=s,O=n;if(y.url instanceof RegExp&&y.hasOwnProperty("urlParams")){var w=y.url.exec(O.url);if(w.length!==1){w.shift();for(var L=0,$=w.length,W=y.urlParams.length,B=Math.min($,W),D={};L<B;L++){var K=y.urlParams[L];D[K]=w[L]}O.urlParams=D}}(function(f,h,m,k){r=A.call(o,o.extend(!0,{},m,{xhr:function(){return g=f,b=h,R=m,N=k,p.debug(g,["Creating new mock XHR object",g,b,R,N]),(g=o.extend(!0,{},o.mockjaxSettings,g)).headers===void 0&&(g.headers={}),b.headers===void 0&&(b.headers={}),g.contentType&&(g.headers["content-type"]=g.contentType),{status:g.status,statusText:g.statusText,readyState:1,open:function(){},send:function(){N.fired=!0,V.call(this,g,b,R)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(j,U){b.headers[j]=U},getResponseHeader:function(j){return g.headers&&g.headers[j]?g.headers[j]:j.toLowerCase()==="last-modified"?g.lastModified||new Date().toString():j.toLowerCase()==="etag"?g.etag||"":j.toLowerCase()==="content-type"?g.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var j="";return g.contentType&&(g.headers["content-type"]=g.contentType),o.each(g.headers,function(U,Z){j+=U+": "+Z+`
`}),j}};var g,b,R,N}}))})(s,a,n,u)}return r}p.debug(u,["Mock does not match request",t,a])}}if(p.log(null,["No mock matched to request",t,n]),o.mockjaxSettings.retainAjaxCalls&&F.push(n),o.mockjaxSettings.throwUnmocked===!0)throw new Error("AJAX not mocked: "+n.url);return p.log("Real ajax call to",n.url),A.apply(o,[n])}});var p={_log:function(e,t,n){var r=o.mockjaxSettings.logging;if(e&&e.logging!==void 0&&(r=e.logging),n=n===0?n:n||M.LOG,t=t.splice?t:[t],!(r===!1||r<n))return o.mockjaxSettings.log?o.mockjaxSettings.log(e,t[1]||t[0]):o.mockjaxSettings.logger&&o.mockjaxSettings.logger[o.mockjaxSettings.logLevelMethods[n]]?o.mockjaxSettings.logger[o.mockjaxSettings.logLevelMethods[n]].apply(o.mockjaxSettings.logger,t):void 0},debug:function(e,t){return p._log(e,t,M.DEBUG)},log:function(e,t){return p._log(e,t,M.LOG)},info:function(e,t){return p._log(e,t,M.INFO)},warn:function(e,t){return p._log(e,t,M.WARN)},error:function(e,t){return p._log(e,t,M.ERROR)}},M={DEBUG:4,LOG:3,INFO:2,WARN:1,ERROR:0};return o.mockjaxSettings={log:null,logger:T.console,logging:2,logLevelMethods:["error","warn","info","log","debug"],matchInRegistrationOrder:!0,namespace:null,status:200,statusText:"OK",responseTime:q,isTimeout:!1,throwUnmocked:!1,retainAjaxCalls:!0,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},o.mockjax=function(e){var t;return o.isArray(e)?o.map(e,function(n){return o.mockjax(n)}):(t=d.length,d[t]=e,p.log(e,["Created new mock handler",e]),t)},o.mockjax._logger=p,o.mockjax.clear=function(e){typeof e=="string"||e instanceof RegExp?d=function(t){for(var n,r=[],a=t instanceof RegExp?function(i){return t.test(i)}:function(i){return t===i},s=0,c=d.length;s<c;s++)a((n=d[s]).url)?p.log(n,["Clearing mock: "+(n&&n.url),n]):r.push(n);return r}(e):e||e===0?(p.log(d[e],["Clearing mock: "+(d[e]&&d[e].url),d[e]]),d[e]=null):(p.log(null,"Clearing all mocks"),d=[]),E=[],F=[]},o.mockjax.clearRetainedAjaxCalls=function(){E=[],F=[],p.debug(null,"Cleared retained ajax calls")},o.mockjax.handler=function(e){if(arguments.length===1)return d[e]},o.mockjax.handlers=function(){return d},o.mockjax.mockedAjaxCalls=function(){return E},o.mockjax.unfiredHandlers=function(){for(var e=[],t=0,n=d.length;t<n;t++){var r=d[t];r===null||r.fired||e.push(r)}return e},o.mockjax.unmockedAjaxCalls=function(){return F},o.mockjax})})(ee);
